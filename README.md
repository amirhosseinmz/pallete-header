# چت هدر پلت

## راه اندازی:

1. ابتدا فایل های پروژه رو در محل مناسب روی هاست آپلود کنید
```txt
--json
      + chat_repository.json ## در این فایل لینک بارگذاری چت ها وجود داره
      + chat1.json ## مشخصات چت 1
      + chat2.json ## مشخصات چت 2
      + chat3.json ## مشخصات چت 3
      + chat4.json ## مشخصات چت 4
--src
      -- img ## در این پوشه عکس های مربوط به پروژه قرار داره
      -- fonts ## فونت پلت ***آپلود محتویات این پوشه دلبخواهی است
      + palleteChatAnimate.js ## اسکریپت های جاوااسکریپت پروژه
      + palleteChatAnimate.css ## استایل دهی های پروژه
```
2. کد های پایین رو در قسمت head وبسایت قرار دهید

```html
    <link rel="stylesheet" href="./src/palleteChatAnimate.css">
    <script src="./src/palleteChatAnimate.js"></script>
```
نکته: به جای ```src/palleteChatAnimate.js``` ```src/palleteChatAnimate.css``` لینک آدرس .css .js پروژه روی هاست رو قرار بدین. 

3. کد زیر رو در ساختار html قالب وبسایت خود هر جایی که در نظر دارید چت اسلایدر اونجا قرار بگیره قرار دهید.
```html
<div class="palleteChatAnimate" id="chatMessages"></div>
<script>document.addEventListener('DOMContentLoaded', () => {var newChat = new palleteChatAnimate('./json/chat_repository.json','chatMessages');newChat.isReady(()=>{newChat.startChat();})});</script>
```
نکته: به جای ```json/chat_repository.json``` لینک فایل ریپازیتوری در هاست خود را قرار دهید.

## فایل chat_repository.json
```json
{
    "version":0, //کنترل کش
    "inOrder":true, //اگر نباشه رندوم پخش میشه اگر باشه به ترتیب پخش میشه
    "url":[ // لینک های اطلاعات مربوط که چت های قابل نمایش
        ".\\json\\chat1.json", //لینک اطلاعات فایل chat1.json
        ".\\json\\chat2.json", //لینک اطلاعات فایل chat2.json
        ".\\json\\chat3.json", //لینک اطلاعات فایل chat3.json
        ".\\json\\chat4.json" //لینک اطلاعات فایل chat4.json
    ]

}
```
### مقدار version:
برای کنترل کش کاربران از این مقدار استفاده میشه. در صورتی که این مقدار برابر با صفر باشد قابلیت کش غیر فعال خواهد بود و تمام اطلاعات مربوط به چت ها در هر بار بارگذاری توسط کاربر مجددا بارگذاری خواهد شد.

اما اگر این مقدار برابر مقدار عددی باشد فقط در بار اول اطلاعات توسط سیستم کاربر لود خواهد شد و در صورت لود مجدد صفحه تمام اطلاعات مربوط به چت ها از روی سیستم کاربر بارگذاری خواهد شد و سرعت بارگذاری سایت رو بالا خواهد برد.

در صورتی که یک تغییری در اطلاعات ایجاد کردید و نیاز دارید دوباره عملیات کش اتفاق بیفته و روی سیستم تمام کاربران اطلاعات دوباره بارگذاری شوند فقط کافیه عدد قرار گرفته شده روی version رو تغییر داده بشه.

### مقدار inOrder
اگه این مقدار مقدار دهی شده باشه چت ها به ترتیب بودن در url لود میشن
اگر مقدار دهی نشده باشه سیستم رندوم برای پخش این موارد اقدام میکنه

### مقدار url

در این قسمت لینک فایل های چت برای بارگذاری و نمایش وجود دارد.
حتما مقادیر موجود در این فایل رو با لینک های مرتبط در هاست خود پس از آپلود فایل های پروژه جایگزین کنید.
در صورت اضافه کردن فقط کافیه لینک رو بین دو ```"``` قرار داده و به لیست با جداکننده ```,``` اضافه کنید. فقط نکته ای که وجود داره خط آخر نباید به هیچ وجه ```,``` داشته باشه وگرنه ارور سینتکس داده میشه.
به عنوان مثال من میخوام یک چت دیگه با نام ```json\sample_chat.json``` رو به فایل اضافه کنم. فایل چیزی مانند زیر خواهد شد.
```json
{
    "version":0,
    "url":[
        ".\\json\\sample_chat.json",  
        ".\\json\\chat1.json",
        ".\\json\\chat2.json",
        ".\\json\\chat3.json",
        ".\\json\\chat4.json"
    ]

}
```

## فایل chat.json
```json
{
    "user": { //اطلاعات مربوط به پیام های کاربر پاسخ دهنده در چت نمایشی
        "fullname":"سینا امینی", 
        "avatar":"./src/img/user_1.png",  // آدرس فایل عکس پروفایل برای کاربر
        "className":"user1" // کلاس استایل دهی دلبخواهی برای دادن استایل شخصی سازی شده به پیام های کاربر در چت
    },
    "bot":{ //اطلاعات مربوط به پیام های ربات پاسخ دهنده در چت نمایشی
          "fullname":"هوش مصنوعی پلت",
          "avatar":"./src/img/bot_1.png", //  آدرس فایل عکس پروفایل برای ربات یا پلت
          "className":"bot1" // کلاس استایل دهی دلبخواهی برای دادن استایل شخصی سازی شده به پیام های ربات در چت
    },
    "messages": [
        {
            "sender": "bot", //پیام برای ربات هست
            "content": "سلام1! من دستیار هوش مصنوعی شما هستم. چطور می‌تونم کمکتون کنم؟",
            "delay": 2000 //تاخیر در نمایش پیام
        },
        {
            "sender": "user", //پیام برای کاربر هست
            "content": "$IMG:./src/img/0162.jpg$IMG:./src/img/0165.jpg", //پیام از نوع عکس هست
            "delay": 2000 //تاخیر در نمایش پیام
        },
        {
            "sender": "user",
            "content": "سلام، من می‌خوام یه چت بات برای پیج اینستاگرامم بسازم.",
            "nextDelay": 5000, //تاخیر با پیام بعدی
            "delay": 2000
        }
    ]
}
```

### مقدار user
در اطلاعات مربوط به قسمت پیام های کاربر قرار داده

1. مقدار user.fullname = نام و نام خانوادگی کاربر (که زیر پیام نمایش داده میشه.)
2. مقدار user.avatar = آدرس لینک عکس پروفایل کاربر نمایش داده شده کنار پیام
3. مقدار user.ClassName = در صورتی که بخوایم استایل شخصی سازی شده به قسمت پیام کاربر بدیم نام کلاس رو اینجا اضافه میکنیم یا جایگزین میکنیم.

### مقدار bot

1. مقدار bot.fullname = اسم بات مثلا:هوش مصنوعی پلت (که زیر پیام نمایش داده میشه.)
2. مقدار bot.avatar = آدرس لینک عکس پروفایل بات نمایش داده شده کنار پیام
3. مقدار bot.ClassName = در صورتی که بخوایم استایل شخصی سازی شده به قسمت پیام بات بدیم نام کلاس رو اینجا اضافه میکنیم یا جایگزین میکنیم

### مقدار messages

در این جا پیام ها به ترتیب قرار داده میشه که در موقع نمایش به همین ترتیب میان و میرن.

1. مثدار sender: نوع پیام رو مشخص میکنه که ساید کاربر باشه یا ربات . در صورت کاربر مقدار user قرار میدیم در صورت ربات مقدار bot
2. مقدار content: متن پیام هست. اگر پیام متنی هستش متن رو در این مقدار مینویسیم اگر عکس هست ابتدا ```$IMG:``` رو قرار میدیم و بعد لینک عکس رو مینویسیم.
3. مثدار delay: زمانی که بابت تایپ پیام طول میکشه. به میلی ثانیه هستش. مثلا 5 ثانیه میشه 5000. هر چی کمتر باشه پیام زودتر میاد و هر چی بیشتر باشه پیام دیر تر میاد.
4. مقدار nextDelay: زمانی که بابت تاخیر با تایپ پیام بعدی طول میکشه

### اضافه کردن پیام جدید
در صورتی که بخوایم پیام جدیدی اضافه کنیم فقط باید
```json
        {
            "sender": "",
            "content": "",
            "delay": 2000
        },
```
یک مثدار جدید به قسمت messages اضافه کنیم فقط نکته ای که داره اینه که آخرین پیام نباید کاراکتر جداکننده ```,``` داشته باشه. وگرنه ارور syntax داده میشه و کلا پیام ها نمایش داده نمیشه.

### اضافه کردن پیام جدید شامل چند عکس
```json
        {
            "sender": "bot",
            "content": "$IMG:./src/img/0162.jpg$IMG:./src/img/0165.jpg$IMG:./src/img/0162.jpg$IMG:./src/img/1235.jpg",
            "delay": 2000
        },
```


### حذف پیام
فقط کافیه اون قسمت پیام رو از داخل فایل قسمت message ها پاک کنیم
### ویرایش پیام
فقط کافیه مقادیر اون قسمت که میخوایم رو تغییر بدیم
